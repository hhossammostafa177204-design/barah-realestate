<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BARAH ELITE | Member Access</title>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        :root {
            --gold-primary: #D4AF37;
            --gold-light: #fceabb;
            --gold-dark: #9b7d28;
            --bg-deep: #050505;
            --card-bg: rgba(20, 20, 20, 0.9);
        }
        
        body { margin: 0; padding: 0; font-family: 'Tajawal', sans-serif; background: var(--bg-deep); color: #fff; overflow-x: hidden; }

        /* --- Ø²Ø± Ø§Ù„Ø±Ø¬ÙˆØ¹ --- */
        .back-floating-btn {
            position: fixed; top: 25px; right: 25px; width: 50px; height: 50px;
            background: rgba(0, 0, 0, 0.8); color: #D4AF37; border: 2px solid #D4AF37;
            border-radius: 50%; display: flex; align-items: center; justify-content: center;
            text-decoration: none; z-index: 99999; font-size: 1.2rem;
            box-shadow: 0 0 15px rgba(212, 175, 55, 0.3); transition: all 0.3s ease;
            backdrop-filter: blur(5px);
        }
        .back-floating-btn:hover { transform: scale(1.1); background: #D4AF37; color: #000; box-shadow: 0 0 25px rgba(212, 175, 55, 0.6); }

        /* --- 1. Ø´Ø§Ø´Ø© Ø§Ù„Ø§Ø­ØªÙØ§Ù„ (Intro) --- */
        #celebrationOverlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: black; z-index: 9999; display: flex; flex-direction: column;
            align-items: center; justify-content: center; text-align: center;
            transition: opacity 1.5s ease;
        }
        
        .welcome-text {
            font-size: 4rem; font-weight: 900; background: linear-gradient(to right, var(--gold-dark), var(--gold-light), var(--gold-primary));
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            opacity: 0; transform: translateY(20px); animation: fadeUp 1s forwards 0.5s;
        }
        
        .sub-text {
            font-size: 1.5rem; color: #888; margin-top: 10px;
            opacity: 0; animation: fadeUp 1s forwards 1.5s;
        }

        .enter-btn {
            margin-top: 40px; padding: 15px 50px; background: transparent;
            border: 2px solid var(--gold-primary); color: var(--gold-primary);
            font-size: 1.2rem; font-weight: bold; border-radius: 50px; cursor: pointer;
            transition: 0.3s; opacity: 0; animation: fadeIn 1s forwards 2.5s;
        }
        .enter-btn:hover { background: var(--gold-primary); color: #000; box-shadow: 0 0 30px var(--gold-primary); }

        /* --- 2. Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„ÙØ®Ù…Ø© (Dashboard) --- */
        #vipDashboard { display: none; padding: 40px 20px; opacity: 0; transition: 1s; }
        
        .dash-header { text-align: center; margin-bottom: 50px; margin-top: 40px; }
        .dash-header h2 { font-size: 2.5rem; color: var(--gold-primary); margin-bottom: 10px; }
        .dash-header p { color: #aaa; }

        .section-title {
            color: #fff; font-size: 1.5rem; margin: 40px 0 20px; border-right: 4px solid var(--gold-primary);
            padding-right: 15px; max-width: 1200px; margin-left: auto; margin-right: auto; width: 90%;
        }

        .vip-grid {
            display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px; max-width: 1200px; margin: 0 auto;
        }

        .vip-card {
            background: linear-gradient(145deg, #111, #1a1a1a);
            border: 1px solid #333; border-radius: 20px; padding: 30px;
            position: relative; overflow: hidden; transition: 0.4s;
            display: flex; flex-direction: column; align-items: center; text-align: center;
        }
        
        .vip-card::before {
            content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 3px;
            background: linear-gradient(90deg, transparent, var(--gold-primary), transparent);
        }

        .vip-card:hover { transform: translateY(-10px); border-color: var(--gold-primary); box-shadow: 0 10px 40px rgba(212, 175, 55, 0.1); }

        .icon-circle {
            width: 70px; height: 70px; border-radius: 50%; background: rgba(212, 175, 55, 0.1);
            display: flex; align-items: center; justify-content: center; margin-bottom: 20px;
            font-size: 1.8rem; color: var(--gold-primary); border: 1px solid rgba(212, 175, 55, 0.3);
        }

        .card-title { font-size: 1.3rem; font-weight: bold; color: #fff; margin-bottom: 10px; }
        .card-desc { color: #888; font-size: 0.9rem; line-height: 1.6; margin-bottom: 25px; }

        .card-btn {
            margin-top: auto; padding: 12px 30px; border-radius: 10px; text-decoration: none;
            font-weight: bold; transition: 0.3s; width: 100%; box-sizing: border-box;
        }
        
        .btn-gold { background: var(--gold-primary); color: #000; }
        .btn-gold:hover { background: #fff; box-shadow: 0 0 20px var(--gold-primary); }
        
        .btn-outline { border: 1px solid #555; color: #aaa; }
        .btn-outline:hover { border-color: var(--gold-primary); color: var(--gold-primary); }

        /* Animations */
        @keyframes fadeUp { to { opacity: 1; transform: translateY(0); } }
        @keyframes fadeIn { to { opacity: 1; } }
        
        #confetti-canvas { position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; }
    </style>

    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
</head>
<body>

    <a href="javascript:history.back()" class="back-floating-btn" title="Ø±Ø¬ÙˆØ¹"><i class="fas fa-arrow-right"></i></a>

    <div id="celebrationOverlay">
        <canvas id="confetti-canvas"></canvas>
        <div class="welcome-text">Ø£Ù‡Ù„Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ø§Ù„Ù†Ø®Ø¨Ø©</div>
        <div class="sub-text">ØªÙ… ØªÙØ¹ÙŠÙ„ Ø¹Ø¶ÙˆÙŠØªÙƒ Ø¨Ù†Ø¬Ø§Ø­. Ø¹Ø§Ù„Ù… Ù…Ù† Ø§Ù„Ø±ÙØ§Ù‡ÙŠØ© Ø¨Ø§Ù†ØªØ¸Ø§Ø±Ùƒ.</div>
        <button class="enter-btn" onclick="enterDashboard()">Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù‚ØµØ± Ø§Ù„Ù…Ù„ÙƒÙŠ</button>
    </div>

    <div id="vipDashboard">
        <div class="dash-header">
            <h2 id="userNameDisplay">Ù…Ø±Ø­Ø¨Ø§Ù‹ ..</h2>
            <p>Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ø´Ø§Ù…Ù„Ø© - Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø¨ÙŠÙ† ÙŠØ¯ÙŠÙƒ</p>
        </div>

        <h3 class="section-title">ğŸ’ Ø§Ù„Ø¹Ù‚Ø§Ø±Ø§Øª</h3>
        <div class="vip-grid">
            <div class="vip-card">
                <div class="icon-circle"><i class="fas fa-user-secret"></i></div>
                <div class="card-title">Ø§Ù„ÙˆØ­Ø¯Ø§Øª Ø§Ù„Ø³ÙŠÙƒØ±Øª</div>
                <div class="card-desc">Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù„Ù„Ø®Ø²Ù†Ø© Ø§Ù„Ø³Ø±ÙŠØ© ÙˆÙ…Ø´Ø§Ù‡Ø¯Ø© Ø¹Ù‚Ø§Ø±Ø§Øª Ù…Ø®ÙÙŠØ© Ø¹Ù† Ø§Ù„Ø¹Ø§Ù…Ø© ÙˆØ­ØµØ±ÙŠØ© ÙÙ‚Ø· Ù„Ø£Ø¹Ø¶Ø§Ø¡ VIP.</div>
                <a href="listings.html" class="card-btn btn-gold">ØªØµÙØ­ Ø§Ù„Ø®Ø²Ù†Ø© (Secret)</a>
            </div>

            <div class="vip-card">
                <div class="icon-circle"><i class="fas fa-globe"></i></div>
                <div class="card-title">Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙˆØ­Ø¯Ø§Øª</div>
                <div class="card-desc">ØªØµÙØ­ ÙƒØ§Ù…Ù„ Ø§Ù„Ù…Ø¹Ø±Ø¶ Ø§Ù„Ø¹Ù‚Ø§Ø±ÙŠ (Ø³ÙŠÙƒØ±Øª + Ø¹Ø§Ù…) ÙˆØ§Ø³ØªØ®Ø¯Ù… Ø§Ù„ÙÙ„ØªØ± Ø§Ù„Ù…ØªØ·ÙˆØ± Ù„Ù„ÙˆØµÙˆÙ„ Ù„Ù‡Ø¯ÙÙƒ.</div>
                <a href="listings.html" class="card-btn btn-outline">ØªØµÙØ­ Ø§Ù„ÙƒÙ„</a>
            </div>
        </div>

        <h3 class="section-title">ğŸ‘‘ Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø±ÙØ§Ù‡ÙŠØ©</h3>
        <div class="vip-grid">
            <div class="vip-card">
                <div class="icon-circle"><i class="fas fa-car"></i></div>
                <div class="card-title">Ø³ÙŠØ§Ø±Ø© Ø§Ù„Ù…Ø¹Ø§ÙŠÙ†Ø©</div>
                <div class="card-desc">Ø®Ø¯Ù…Ø© Ù„ÙŠÙ…ÙˆØ²ÙŠÙ† Ø®Ø§ØµØ© ØªØ£Ø®Ø°Ùƒ Ù…Ù† Ù…Ù†Ø²Ù„Ùƒ Ù„Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„ÙˆØ­Ø¯Ø§Øª Ø¨Ø£Ù‚ØµÙ‰ Ø¯Ø±Ø¬Ø§Øª Ø§Ù„Ø±Ø§Ø­Ø©.</div>
                <a href="https://wa.me/20110557821?text=Ø£Ù†Ø§ Ø¹Ø¶Ùˆ VIP ÙˆØ£Ø±ØºØ¨ ÙÙŠ Ø­Ø¬Ø² Ø³ÙŠØ§Ø±Ø© Ù„Ù„Ù…Ø¹Ø§ÙŠÙ†Ø©" target="_blank" class="card-btn btn-outline">Ø­Ø¬Ø² Ø³ÙŠØ§Ø±Ø©</a>
            </div>

            <div class="vip-card">
                <div class="icon-circle"><i class="fas fa-user-tie"></i></div>
                <div class="card-title">Ù…Ø¯ÙŠØ± Ø­Ø³Ø§Ø¨Ùƒ</div>
                <div class="card-desc">Ù…Ø³ØªØ´Ø§Ø± Ø¹Ù‚Ø§Ø±ÙŠ Ù…Ø®ØµØµ Ù„Ùƒ ÙˆØ­Ø¯ÙƒØŒ Ù…ØªØ§Ø­ 24/7 Ù„Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø¹Ù„Ù‰ Ø§Ø³ØªÙØ³Ø§Ø±Ø§ØªÙƒ.</div>
                <a href="https://wa.me/20110557821?text=Ø£Ù†Ø§ Ø¹Ø¶Ùˆ VIP ÙˆØ£Ø­ØªØ§Ø¬ Ø§Ù„ØªØ­Ø¯Ø« Ù…Ø¹ Ù…Ø¯ÙŠØ± Ø­Ø³Ø§Ø¨ÙŠ" target="_blank" class="card-btn btn-outline">ØªÙˆØ§ØµÙ„ Ø§Ù„Ø¢Ù†</a>
            </div>
        </div>

        <h3 class="section-title">ğŸ› ï¸ Ø®Ø¯Ù…Ø§Øª Ù…ØªÙƒØ§Ù…Ù„Ø©</h3>
        <div class="vip-grid">
            <div class="vip-card">
                <div class="icon-circle"><i class="fas fa-gavel"></i></div>
                <div class="card-title">Ø§Ø³ØªØ´Ø§Ø±Ø§Øª Ù‚Ø§Ù†ÙˆÙ†ÙŠØ©</div>
                <div class="card-desc">Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ø¹Ù‚ÙˆØ¯ ÙˆØ§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù‚Ø§Ù†ÙˆÙ†ÙŠØ© Ù…Ø¬Ø§Ù†Ø§Ù‹ Ù„Ù„Ø£Ø¹Ø¶Ø§Ø¡ Ù„Ø¶Ù…Ø§Ù† Ø­Ù‚ÙˆÙ‚Ùƒ.</div>
                <a href="https://wa.me/20110557821?text=Ø£Ù†Ø§ Ø¹Ø¶Ùˆ VIP ÙˆØ£Ø±ÙŠØ¯ Ø§Ø³ØªØ´Ø§Ø±Ø© Ù‚Ø§Ù†ÙˆÙ†ÙŠØ©" target="_blank" class="card-btn btn-outline">Ø·Ù„Ø¨ Ø§Ø³ØªØ´Ø§Ø±Ø©</a>
            </div>

            <div class="vip-card">
                <div class="icon-circle"><i class="fas fa-paint-roller"></i></div>
                <div class="card-title">ØªØ´Ø·ÙŠØ¨Ø§Øª ÙˆØ¯ÙŠÙƒÙˆØ±</div>
                <div class="card-desc">Ø¨Ø§Ù‚Ø§Øª ØªØ´Ø·ÙŠØ¨ Ø­ØµØ±ÙŠØ© Ø¨Ø®ØµÙˆÙ…Ø§Øª Ø®Ø§ØµØ© Ù„Ù„Ø£Ø¹Ø¶Ø§Ø¡ØŒ ÙˆØªØ³Ù„ÙŠÙ… Ø¹Ù„Ù‰ Ø§Ù„Ù…ÙØªØ§Ø­.</div>
                <a href="https://wa.me/20110557821?text=Ø£Ù†Ø§ Ø¹Ø¶Ùˆ VIP ÙˆÙ…Ù‡ØªÙ… Ø¨Ø®Ø¯Ù…Ø§Øª Ø§Ù„ØªØ´Ø·ÙŠØ¨" target="_blank" class="card-btn btn-outline">Ù…Ø¹Ø§ÙŠÙ†Ø© ØªØ´Ø·ÙŠØ¨</a>
            </div>

            <div class="vip-card">
                <div class="icon-circle"><i class="fas fa-key"></i></div>
                <div class="card-title">Ø¥Ø¯Ø§Ø±Ø© Ø£Ù…Ù„Ø§Ùƒ</div>
                <div class="card-desc">Ù„Ù„Ù…Ø³ØªØ«Ù…Ø±ÙŠÙ†: Ù†Ø¯ÙŠØ± Ø¹Ù‚Ø§Ø±Ùƒ (ØªØ£Ø¬ÙŠØ±ØŒ ØµÙŠØ§Ù†Ø©) ÙˆÙ†Ø­ÙˆÙ„ Ù„Ùƒ Ø§Ù„Ø£Ø±Ø¨Ø§Ø­.</div>
                <a href="https://wa.me/20110557821?text=Ø£Ù†Ø§ Ø¹Ø¶Ùˆ VIP ÙˆØ£Ø±ÙŠØ¯ Ø®Ø¯Ù…Ø© Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ù…Ù„Ø§Ùƒ" target="_blank" class="card-btn btn-outline">Ø¥Ø¯Ø§Ø±Ø© Ø¹Ù‚Ø§Ø±ÙŠ</a>
            </div>

            <div class="vip-card">
                <div class="icon-circle"><i class="fas fa-chart-line"></i></div>
                <div class="card-title">Ø§Ù„ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø¹Ù‚Ø§Ø±ÙŠ</div>
                <div class="card-desc">ØªÙ‚Ø±ÙŠØ± Ù…ÙØµÙ„ Ø¨Ø³Ø¹Ø± Ø§Ù„Ù…ØªØ± Ø§Ù„Ø³ÙˆÙ‚ÙŠ Ù„ÙˆØ­Ø¯ØªÙƒ Ø§Ù„Ø­Ø§Ù„ÙŠØ©.</div>
                <a href="https://wa.me/20110557821?text=Ø£Ù†Ø§ Ø¹Ø¶Ùˆ VIP ÙˆØ£Ø±ÙŠØ¯ ØªÙ‚ÙŠÙŠÙ… Ø¹Ù‚Ø§Ø±ÙŠ" target="_blank" class="card-btn btn-outline">Ø·Ù„Ø¨ ØªÙ‚ÙŠÙŠÙ…</a>
            </div>
        </div>

    </div>

    <script>
        // âš ï¸ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Firebase Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØ©
        const firebaseConfig = {
          apiKey: "AIzaSyDBRcr-Np9SwYRR-cBqJDZ7FZmwk6VWLJU",
          authDomain: "barah-realestate-c7095.firebaseapp.com",
          projectId: "barah-realestate-c7095",
          storageBucket: "barah-realestate-c7095.firebasestorage.app",
          messagingSenderId: "491079034147",
          appId: "1:491079034147:web:c7d985a6387dfa75a8d896"
        };
        if (!firebase.apps.length) firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();
        const db = firebase.firestore();

        // 1. ØªØ´ØºÙŠÙ„ Ø§Ù„Ø§Ø­ØªÙØ§Ù„ ÙÙˆØ± ÙØªØ­ Ø§Ù„ØµÙØ­Ø©
        window.onload = function() {
            launchConfetti();
            
            auth.onAuthStateChanged(user => {
                if (user) {
                    db.collection('customers').doc(user.uid).get().then(doc => {
                        if (doc.exists && doc.data().isVIP) {
                            document.getElementById('userNameDisplay').innerText = `Ù…Ø±Ø­Ø¨Ø§Ù‹ØŒ ${user.displayName}`;
                        } else {
                            // Ø­Ù…Ø§ÙŠØ© Ø§Ù„ØµÙØ­Ø©: Ù„Ùˆ Ø¯Ø®Ù„ Ø¨Ø§Ù„Ù„ÙŠÙ†Ùƒ ÙˆÙ‡Ùˆ Ù…Ø´ VIP
                            alert("Ø¹ÙÙˆØ§Ù‹ØŒ Ù‡Ø°Ù‡ Ø§Ù„Ù…Ù†Ø·Ù‚Ø© Ù…Ø®ØµØµØ© Ù„Ù„Ø£Ø¹Ø¶Ø§Ø¡ ÙÙ‚Ø·");
                            window.location.href = 'index.html';
                        }
                    });
                } else {
                    window.location.href = 'index.html';
                }
            });
        };

        // 2. ÙƒÙˆØ¯ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ù†Ø§Ø±ÙŠØ©
        function launchConfetti() {
            var duration = 3000;
            var end = Date.now() + duration;

            (function frame() {
                confetti({
                    particleCount: 5,
                    angle: 60,
                    spread: 55,
                    origin: { x: 0 },
                    colors: ['#D4AF37', '#ffffff']
                });
                confetti({
                    particleCount: 5,
                    angle: 120,
                    spread: 55,
                    origin: { x: 1 },
                    colors: ['#D4AF37', '#ffffff']
                });

                if (Date.now() < end) {
                    requestAnimationFrame(frame);
                }
            }());
        }

        // 3. Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…
        function enterDashboard() {
            const overlay = document.getElementById('celebrationOverlay');
            const dashboard = document.getElementById('vipDashboard');
            
            overlay.style.opacity = '0';
            setTimeout(() => {
                overlay.style.display = 'none';
                dashboard.style.display = 'block';
                // Fade In Dashboard
                setTimeout(() => dashboard.style.opacity = '1', 100);
            }, 1000);
        }
    </script>
</body>
</html>